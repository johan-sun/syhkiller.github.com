<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>孙渊汇的个人博客</title>
  <meta name="description" content="sun yuanhui's blog" />
  <meta name="keywords" content="computer, blog" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" type="text/css" href="/styles/style.css" />
  <link rel="stylesheet" type="text/css" href="/styles/highlight.css"/>
  <script type="text/javascript" src="http://codeorigin.jquery.com/jquery-1.10.2.min.js"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
		TeX: { equationNumbers: {autoNumber: "all"} },
		tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    });
    $(function(){
            $(".highlight").each(function(idx, obj){  
                var linenos = $(obj).find(".lineno"); 
                linenos.remove(); 
                if(linenos.length)
                   $(this).prepend($("<div class='linenoWrapper'></div>").append(linenos));
             });
    });
  </script>
<script type='text/javascript' src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>

<body>
  <div id="main">
    <div id="header">
	<div id="logo">
		<div id="logo_text">
		<!-- class="logo_colour", allows you to change the colour of the text -->
			<h1><a href="/index.html">Sun Yuanhui's<span class="logo_colour">Blog</span></a></h1>
			<h2>孙渊汇的个人博客</h2>
		</div>
	</div>
	<div id="menubar">
		<ul id="menu">
			<!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
			<li><a href="/index.html">Home</a></li>
			<li><a href="/archive.html">Archive</a></li>
			<li><a href="#">Contact Me</a></li>
		</ul>
	</div>
</div>
<div id="content_header"></div>

    <div id="site_content">
	  <div class="sidebar">
	<!-- insert your sidebar items here -->
	<h3>分类</h3>
	<ul>
		
			<li><a href="/categories/前端">前端(2)</a></li>
		
			<li><a href="/categories/数学">数学(5)</a></li>
		
			<li><a href="/categories/学习">学习(1)</a></li>
		
	</ul>

	<h3>标签</h3>
	<p class="taglist">
	
		<a href="/tag/约瑟夫">约瑟夫(2)</a>
	
		<a href="/tag/mathjax">mathjax(1)</a>
	
		<a href="/tag/textile">textile(1)</a>
	
		<a href="/tag/分布式">分布式(1)</a>
	
		<a href="/tag/js">js(1)</a>
	
		<a href="/tag/具体数学">具体数学(5)</a>
	
	</p>
		<!--
	<h3>Search</h3>
	<form method="post" action="#" id="search_form">
		<p>
			<input class="search" type="text" name="search_field" value="Enter keywords....." />
			<input name="search" type="image" style="border: 0; margin: 0 0 -9px 5px;" src="/styles/search.png" alt="Search" title="Search" />
		</p>
	</form>
	-->
</div>

      <div id="content">
        <!-- insert the page content here -->

	<h1>约瑟夫问题扩展</h1>
<p style="margin-top:-16px; text-indent:0em;">09 October 2013 | CATEGORY:<a href="/categories/数学">数学</a> | TAGS:<a href="/tag/具体数学">具体数学</a>&nbsp;<a href="/tag/约瑟夫">约瑟夫</a>&nbsp;</p>
<div class="post">
<p>这次我们将约瑟夫问题的递归式做如下改动:</p>
<p>\begin{equation}<br />
\begin{cases}<br />
f(1) &amp;= \alpha \\<br />
f(2n)&amp;= 2f(n) + \beta \\<br />
f(2n+1) &amp;= 2f(n) + \gamma<br />
\end{cases} \label{org}<br />
\end{equation}</p>
<p>通过简单枚举,我们得到以下值</p>
<table>
	<tr>
		<th>$n$ </th>
		<th>$f(n)$          </th>
	</tr>
	<tr>
		<td> 1     </td>
		<td> $\alpha$          </td>
	</tr>
	<tr>
		<td> 2     </td>
		<td> $2\alpha + \beta$ </td>
	</tr>
	<tr>
		<td> 3     </td>
		<td> $2\alpha + \gamma$ </td>
	</tr>
	<tr>
		<td> 4     </td>
		<td> $4\alpha + 3\beta$ </td>
	</tr>
	<tr>
		<td> 5     </td>
		<td> $4\alpha + 2\beta + \gamma$ </td>
	</tr>
	<tr>
		<td> $\vdots$</td>
		<td> $\vdots$ </td>
	</tr>
</table>
<p>我们推测<br />
$$f(n) = A(n)\alpha + B(n)\beta + C(n)\gamma$$<br />
这里就需要求$A(n)$,$B(n)$,$C(n)$的表达式,当然通过观察我们可以猜出一个表达式,然后通过数学归纳法进行证明.这里使用更加简便的待定系数法,凑出$A(n)$,$B(n)$, $C(n)$的值.</p>
<p>令$\alpha = 1, \beta = \gamma = 0$, 我们有<br />
\begin{equation}<br />
\begin{split}<br />
f(n) &amp;= A(n) &amp;= 1 \\<br />
f(2n) &amp;= A(2n) &amp;= 2A(n) \\<br />
f(2n+1) &amp;= A(2n+1) &amp;= 2A(n)<br />
\end{split}<br />
\end{equation}</p>
<p>这个式子我们把通过观察,很容易得到$n=2^m + l$<br />
$$A(n) = 2^m \label{fneq1}$$</p>
<p>还剩$B(n),C(n)$,考虑$f(n)$是常函数的情情况,令$f(n) = 1$:</p>
<p>\begin{equation}<br />
\begin{cases}<br />
f(1) &amp;= \alpha &amp; &amp;= 1 \\<br />
f(2n) &amp;= 2f(n) + \beta &amp;= 2 + \beta &amp;= 1 \\<br />
f(2n+1) &amp;= 2f(n) + \gamma &amp;= 2 + \gamma &amp;= 1<br />
\end{cases} <br />
\end{equation}</p>
<p>我们可以得出$\alpha = 1, \beta = -1, \gamma = -1$,也就是说有:<br />
$$f(n) = A(n) &#8211; B(n) &#8211; C(n) = 1\label{fneq2}$$</p>
<p>我们在考虑$f(n) = n$的情况:<br />
\begin{equation}<br />
\begin{split}<br />
f(1) &amp;= 1 \\<br />
f(2n) &amp;= 2f(n) + \beta &amp;= 2n + \beta &amp;= 2n \\<br />
f(2n+1) &amp;= 2f(n) + \gamma  &amp;= 2n + \gamma &amp;= 2n + 1<br />
\end{split}<br />
\end{equation}</p>
<p>通过上式,待定系数,我们可以得到$\beta = 0, \gamma = 1$<br />
$$ f(n) = A(n) + C(n) = n\label{fneq3}$$</p>
<p>然后根据公式$\ref{fneq1}, \ref{fneq2}, \ref{fneq3}$,我们可以可以得到:<br />
$$<br />
\begin{cases}<br />
A(n) &amp;= 2^m \\<br />
B(n) &amp;= 2^m &#8211; (n-2^m) &#8211; 1\\<br />
C(n) &amp;= n &#8211; 2^m<br />
\end{cases}<br />
$$</p>
<p>这里$n-2^m$显然就是上次约瑟夫问题中的把$n$写成$2^m+l$中的$l$,上式就成为<br />
$$<br />
\begin{cases}<br />
A(n) &amp;= 2^m \\<br />
B(n) &amp;= 2^m &#8211; l &#8211; 1 \\<br />
C(n) &amp;= l<br />
\end{cases}<br />
$$</p>
<p>以上是 <a href="http://book.douban.com/subject/1231910/">具体数学</a> 的解法,也是上课讲的, 当时有人再讨论用$f(n) = B(n), f(n) = C(n)$待定系数能否求出$B(n), C(n)$,回去写了下,实际上也是可以的,但是没有向上面那么简洁.</p>
<p>令$f(n) = B(n)$则$\alpha = 0, \beta = 1, \gamma = 0$得到方程<br />
\begin{equation}<br />
\begin{split}<br />
f(1) &amp;= B(1) &amp;= 0 \\<br />
f(2n) &amp;= 2f(n) + 1 &amp;= 2B(n) + 1 &amp;= B(2n) \\<br />
\end{split}<br />
\end{equation}</p>
<p>依然是一个递归式,但是这个递归式相比$\ref{org}$,我们更加容易推测,同样枚举</p>
<table>
	<tr>
		<td> $n$    </td>
		<td>  1 </td>
		<td> 2 3 </td>
		<td> 4 5 6 7 </td>
		<td> 8 9 $\cdots$ </td>
	</tr>
	<tr>
		<td> $B(n)$ </td>
		<td>  0 </td>
		<td> 1 0 </td>
		<td> 3 2 1 0 </td>
		<td> 7 6 $\cdots$ </td>
	</tr>
</table>
<p>同样,将$n$写成$2^m + l$的形式, $B(n) = 2^m &#8211; l &#8211; 1$, 最后同样用数学归纳法证明其正确性.$C(n)$同理, 相比之前的假设$f(n)=1,f(n)=n$而言,该方法同样刻个得到,只是没有上一种方法简洁.</p>
<p>同样我们考虑其二进制的形式, 并将原式写成<br />
$$<br />
\begin{cases}<br />
f(1) &amp;= \alpha \\<br />
f(2n+j) &amp;= 2f(n) + \beta_j<br />
\end{cases}<br />
$$</p>
<p>我们就有</p>
<p>$$<br />
\begin{split}<br />
f((b_mb_{m-1}\cdots b_1b_0)_ 2) &amp;= 2f((b_mb_{m-1}\cdots b_1)_ 2) + \beta_{b_0} \\<br />
        &amp;= 4f((b_mb_{m-1}\cdots b_2)_ 2 ) + 2\beta_{b_1} + \beta_{b_0} \\<br />
        &amp;= 8f((b_mb_{m-1}\cdots b_3)_ 2 ) + 2^2\beta_{b_2} + 2^1\beta_{b_1} + 2^0\beta_{b_0} \\<br />
        &amp;\vdots \\<br />
        &amp;= 2^mf((b_m)_ 2) + 2^{m-1}\beta_{b_{m-1}} + \cdots + 2^0\beta_{b_0} \\<br />
        &amp;= 2^m\alpha + 2^{m-1}\beta_{b_{m-1}} + \cdots + 2^0\beta_{b_0} \\<br />
        &amp;= (\alpha\beta_{b_{m-1}}\beta_{b_{m-2}}\cdots\beta_{b_1}\beta_{b_0})_ 2<br />
\end{split}<br />
$$</p>
<p>这样就得到了一个比较通用的表达式了.</p>
<p>我们式子扩展为更加一般的形式<br />
$$<br />
\begin{cases}<br />
f(j) &amp;= \alpha_j &amp; 1 \le j \lt d \\<br />
f(dn+j) &amp;= cf(n) + \beta_j &amp; 0 \le j \lt d, n \gt 1<br />
\end{cases}<br />
$$</p>
<p>我们令$n = (b_mb_{m-1}b_{m-2}\cdots b_1b_0)_ d$有<br />
$$<br />
\begin{split}<br />
f((b_mb_{m-1}\cdots b_1b_0)_ d) &amp;= cf((b_mb_{m-1}\cdots b_2b_1)_ d) + \beta_{b_0} \\<br />
        &amp;= c^2f((b_mb_{m-1}\cdots b_3b_2)_ d) + c\beta_{b_1} + \beta_{b_0} \\<br />
        &amp;= c^mf((b_m)_ d) + c^{m-1}\beta_{b_{m-1}} + \cdots + c\beta_{b_1} + \beta_{b_0} \\<br />
        &amp;= c^m\alpha_{b_m} +  c^{m-1}\beta_{b_{m-1}} + \cdots + c\beta_{b_1} + \beta_{b_0} \\<br />
        &amp;= (\alpha_{b_m}\beta_{b_{m-1}}\cdots \beta_{b_1}\beta_{b_0})_ c<br />
\end{split}<br />
$$</p>
</div>

<!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_renren"></a>
	<a class="jiathis_button_douban"></a>
	<a class="jiathis_button_fb"></a>
	<a class="jiathis_button_twitter"></a>
	<a class="jiathis_button_googleplus"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1377138298698457" charset="utf-8"></script>
<!-- JiaThis Button END -->

<!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"syhkiller"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
<!-- Duoshuo Comment END -->
<script type="text/javascript">
(function (){
 	var MaxCnt = 30;
	var i = 0;
	var timer = setInterval(function(){
			++i;
			if(i >= MaxCnt){ clearInterval(timer); return;}
			if(MathJax.Hub.Queue){
				if(document.getElementsByClassName('ds-powered-by').length){
					MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('ds-thread')]);
					clearInterval(timer);
					return;
				}
			}
		},1000);
 })();
</script>


      </div>
    </div>
    <div id="content_footer"></div>
    <div id="footer">
      <p>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> on GitHub | Copyright &copy; 孙渊汇</p>
    </div>
  </div>
</body>
</html>

