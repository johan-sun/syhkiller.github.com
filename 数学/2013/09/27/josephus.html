<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>孙渊汇的个人博客</title>
  <meta name="description" content="sun yuanhui's blog" />
  <meta name="keywords" content="computer, blog" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" type="text/css" href="/styles/style.css" />
  <link rel="stylesheet" type="text/css" href="/styles/highlight.css"/>
  <script type="text/javascript" src="http://codeorigin.jquery.com/jquery-1.10.2.min.js"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
		TeX: { equationNumbers: {autoNumber: "all"} },
		tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    });
    $(function(){
            $(".highlight").each(function(idx, obj){  
                var linenos = $(obj).find(".lineno"); 
                linenos.remove(); 
                if(linenos.length)
                   $(this).prepend($("<div class='linenoWrapper'></div>").append(linenos));
             });
    });
  </script>
<script type='text/javascript' src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>

<body>
  <div id="main">
    <div id="header">
	<div id="logo">
		<div id="logo_text">
		<!-- class="logo_colour", allows you to change the colour of the text -->
			<h1><a href="/index.html">Sun Yuanhui's<span class="logo_colour">Blog</span></a></h1>
			<h2>孙渊汇的个人博客</h2>
		</div>
	</div>
	<div id="menubar">
		<ul id="menu">
			<!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
			<li><a href="/index.html">Home</a></li>
			<li><a href="/archive.html">Archive</a></li>
			<li><a href="#">Contact Me</a></li>
		</ul>
	</div>
</div>
<div id="content_header"></div>

    <div id="site_content">
	  <div class="sidebar">
	<!-- insert your sidebar items here -->
	<h3>分类</h3>
	<ul>
		
			<li><a href="/categories/学习">学习(1)</a></li>
		
			<li><a href="/categories/前端">前端(2)</a></li>
		
			<li><a href="/categories/数学">数学(5)</a></li>
		
	</ul>

	<h3>标签</h3>
	<p class="taglist">
	
		<a href="/tag/分布式">分布式(1)</a>
	
		<a href="/tag/约瑟夫">约瑟夫(2)</a>
	
		<a href="/tag/mathjax">mathjax(1)</a>
	
		<a href="/tag/具体数学">具体数学(5)</a>
	
		<a href="/tag/textile">textile(1)</a>
	
		<a href="/tag/js">js(1)</a>
	
	</p>
		<!--
	<h3>Search</h3>
	<form method="post" action="#" id="search_form">
		<p>
			<input class="search" type="text" name="search_field" value="Enter keywords....." />
			<input name="search" type="image" style="border: 0; margin: 0 0 -9px 5px;" src="/styles/search.png" alt="Search" title="Search" />
		</p>
	</form>
	-->
</div>

      <div id="content">
        <!-- insert the page content here -->

	<h1>约瑟夫问题</h1>
<p style="margin-top:-16px; text-indent:0em;">27 September 2013 | CATEGORY:<a href="/categories/数学">数学</a> | TAGS:<a href="/tag/具体数学">具体数学</a>&nbsp;<a href="/tag/约瑟夫">约瑟夫</a>&nbsp;</p>
<div class="post">
<p>约瑟夫问题已经很常见了,是由历史学家夫拉维.约瑟夫命名的古老问题,大致是有许多人围成圈,顺时针数数,逢三就自杀,最后剩下两个人得救,约瑟夫和他的小伙伴不想无谓自杀,于是迅速计算出他们应该待的位子.</p>
<p>现在我们将这个问题稍微变化下,从围成圈的$n$个人开始数数,每隔一个就删去一个人,知道只有一个人幸存下来,$n = 10$的情况下,依次删去$2,4,6,8,10,3,5,7,1,9$,最后剩下原来的$5$号.记$J(n)$表示$n$个人能够幸存的原始编号,有$J(10) = 5$.</p>
<p>考虑$2n$个人<br />
$$1, 2, 3, 4, 5, 6 &#8230; 2n \notag$$</p>
<p>经过一轮后存活$n$个人:<br />
$$1, 3, 5 &#8230; 2n-1\notag$$</p>
<p>也就是说:<br />
$$J(2n) = 2J(n) &#8211; 1 \notag$$</p>
<p>现在考虑$2n+1$的情况:<br />
$$1, 2, 3, 4, 5, 6 &#8230; 2n+1 \notag$$</p>
<p>经过一轮后还有n+1个人,为了方便,我们再把原来的1号杀掉:<br />
$$3, 5, 7, 9&#8230; 2n+1 \notag$$</p>
<p>可以发现:<br />
$$J(2n+1) = 2J(n) + 1 \notag$$</p>
<p>我们有:<br />
\begin{equation}<br />
\begin{cases}<br />
J(1) &amp;= 1\\<br />
J(2n)&amp;= 2J(n) &#8211; 1 ,n \ge 1 \\<br />
J(2n+1) &amp;= 2J(n) + 1 ,n \ge 1 <br />
\end{cases}<br />
\end{equation}</p>
<p>我们给出相关的值(#仅仅是为了补全空格):</p>
<table>
	<tr>
		<td> $n$  </td>
		<td> 1 </td>
		<td colspan="2">2  3 </td>
		<td colspan="4">4  5  6  7 </td>
		<td colspan="8">8  9  10  11  12  13  14  15 </td>
		<td> 16 </td>
	</tr>
	<tr>
		<td>$J(n)$</td>
		<td> 1 </td>
		<td colspan="2">1  3 </td>
		<td colspan="4">1  3  5  7 </td>
		<td colspan="8">1  3  #5  #7  #9  11  13  15 </td>
		<td> #1 </td>
	</tr>
</table>
<p>我们可以看出,将$n$写成$2^m+l$的形式, $J(n) = J(2^m+l) = 2l + 1$</p>
<p>使用数学归纳法证明其正确性.</p>
<p>当$n=2$时, $J(2) = 2J(1) &#8211; 1 = 1$成立, 设$n \lt 2^m + 1$是成立</p>
<ul>
	<li>$2^m+l$ 为偶数时</li>
</ul>
<p>显然$l$为偶数, $J(2^m+l) = 2J(2^{m-1} + { l \over 2}) &#8211; 1 = 2(2 \cdot {l \over 2} + 1) &#8211; 1 = 2l + 1$ 成立.</p>
<ul>
	<li>$2^m+l$ 为奇数</li>
</ul>
<p>显然$l$为奇数, $J(2^m+l) = J(2^m + l &#8211; 1 + 1) = 2J(2^{m-1} + {l &#8211; 1 \over 2 } + 1) = 2(2\cdot { l &#8211; 1 \over 2} + 1) + 1 = 2l + 1$ 成立.</p>
<p>令$n=\left(b_mb_{m-1}\cdots b_1b_0\right)_ 2$ 那么$l=\left(0b_{m-1}\cdots b_1b_0\right)_ 2$</p>
<p>\begin{equation}<br />
\begin{split}<br />
    J(\left(b_mb_{m-1}\cdots b_2b_0\right)_ 2) &amp;= 2\left(0b_{m-1}\cdots b_1b_0\right)_ 2 + 1\\<br />
            &amp;= \left(0b_{m-1}\cdots b_1b_0\right)_ 2 \ll 1 + 1 \\<br />
            &amp;= \left(b_{m-1}\cdots b_1b_01\right)_ 2 \\<br />
            &amp;= \left(b_{m-1}\cdots b_1b_0b_m\right)_2<br />
\end{split}<br />
\end{equation}</p>
<p>这样我们就有快速求一个整数$n$,隔一个杀人的约瑟夫环问题,只要对其做一次二进制下的循环左移就可以了.</p>
</div>

<!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_renren"></a>
	<a class="jiathis_button_douban"></a>
	<a class="jiathis_button_fb"></a>
	<a class="jiathis_button_twitter"></a>
	<a class="jiathis_button_googleplus"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1377138298698457" charset="utf-8"></script>
<!-- JiaThis Button END -->

<!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"syhkiller"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
<!-- Duoshuo Comment END -->
<script type="text/javascript">
(function (){
 	var MaxCnt = 30;
	var i = 0;
	var timer = setInterval(function(){
			++i;
			if(i >= MaxCnt){ clearInterval(timer); return;}
			if(MathJax.Hub.Queue){
				if(document.getElementsByClassName('ds-powered-by').length){
					MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('ds-thread')]);
					clearInterval(timer);
					return;
				}
			}
		},1000);
 })();
</script>


      </div>
    </div>
    <div id="content_footer"></div>
    <div id="footer">
      <p>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> on GitHub | Copyright &copy; 孙渊汇</p>
    </div>
  </div>
</body>
</html>

