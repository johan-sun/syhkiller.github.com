<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>孙渊汇的个人博客</title>
  <meta name="description" content="sun yuanhui's blog" />
  <meta name="keywords" content="computer, blog" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <link rel="stylesheet" type="text/css" href="/styles/style.css" />
  <link rel="stylesheet" type="text/css" href="/styles/highlight.css"/>
  <script type="text/javascript" src="http://codeorigin.jquery.com/jquery-1.10.2.min.js"></script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
		TeX: { equationNumbers: {autoNumber: "all"} },
		tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    });
    $(function(){
            $(".highlight").each(function(idx, obj){  
                var linenos = $(obj).find(".lineno"); 
                linenos.remove(); 
                if(linenos.length)
                   $(this).prepend($("<div class='linenoWrapper'></div>").append(linenos));
             });
    });
  </script>
<script type='text/javascript' src='http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>
</head>

<body>
  <div id="main">
    <div id="header">
	<div id="logo">
		<div id="logo_text">
		<!-- class="logo_colour", allows you to change the colour of the text -->
			<h1><a href="/index.html">Sun Yuanhui's<span class="logo_colour">Blog</span></a></h1>
			<h2>孙渊汇的个人博客</h2>
		</div>
	</div>
	<div id="menubar">
		<ul id="menu">
			<!-- put class="selected" in the li tag for the selected page - to highlight which page you're on -->
			<li><a href="/index.html">Home</a></li>
			<li><a href="/archive.html">Archive</a></li>
			<li><a href="#">Contact Me</a></li>
		</ul>
	</div>
</div>
<div id="content_header"></div>

    <div id="site_content">
	  <div class="sidebar">
	<!-- insert your sidebar items here -->
	<h3>分类</h3>
	<ul>
		
			<li><a href="/categories/前端">前端(2)</a></li>
		
			<li><a href="/categories/数学">数学(4)</a></li>
		
			<li><a href="/categories/学习">学习(1)</a></li>
		
	</ul>

	<h3>标签</h3>
	<p class="taglist">
	
		<a href="/tag/textile">textile(1)</a>
	
		<a href="/tag/mathjax">mathjax(1)</a>
	
		<a href="/tag/js">js(1)</a>
	
		<a href="/tag/具体数学">具体数学(4)</a>
	
		<a href="/tag/分布式">分布式(1)</a>
	
		<a href="/tag/约瑟夫">约瑟夫(2)</a>
	
	</p>
		<!--
	<h3>Search</h3>
	<form method="post" action="#" id="search_form">
		<p>
			<input class="search" type="text" name="search_field" value="Enter keywords....." />
			<input name="search" type="image" style="border: 0; margin: 0 0 -9px 5px;" src="/styles/search.png" alt="Search" title="Search" />
		</p>
	</form>
	-->
</div>

      <div id="content">
        <!-- insert the page content here -->

	<h1>汉诺塔</h1>
<p style="margin-top:-16px; text-indent:0em;">18 September 2013 | CATEGORY:<a href="/categories/数学">数学</a> | TAGS:<a href="/tag/具体数学">具体数学</a>&nbsp;</p>
<div class="post">
<p>本次主要介绍: <em>汉诺塔</em> 以及其变问题的最少移动次数解法</p>
<ul>
	<li><strong>经典汉诺塔</strong></li>
</ul>
<p>汉诺塔的问题简单描述下,有$n$个盘子,从$A$柱子移动到$B$柱子,每次一个,保证小得放在大得柱子上,$C$柱子作为辅助.求最小移动次数$T_{n}$.</p>
<p>显然$T_0 = 0$, $T_1 = 1$, 当有$n$个盘的时候,考虑上面$n-1$个盘子从$A$移动到$C$,然后把第$n$个盘子移动到$B$,然后把之前$n-1$个盘子从$C$移动到$B$,由于对称性,将$n$个盘子从任意一个移动到另一个的次数是相同的,移动的次数为:</p>
<p>$$2T_{n-1} + 1 \label{hntTn}$$</p>
<p>但是$T_n$表示的是最小次数,我们构造了一个移动,但是并没有证明他是必须的,所以有</p>
<p>$$T_{n} \le 2T_{n-1} + 1\label{hntTnle}$$</p>
<p>显然,在把$n-1$个盘从$A$移动到$C$的过程中,任意再添加步骤,都可以使得移动步数小于式($\ref{hntTn}$),即:</p>
<p>$$T_n \ge 2T_{n-1} + 1\label{hntTnge}$$</p>
<p>由式($\ref{hntTnle})与式($\ref{hntTnge})可得移动的最小次数:</p>
<p>$$T_{n} = 2T_{n-1} + 1\label{hntTneq}$$</p>
<p>展开的$T_n$的通项为</p>
<p>$$ T_n = 2^n &#8211; 1\label{hntTnNormalEq} $$</p>
<ul>
	<li><strong>限制直接从$A$移动到$C$,与$C$移动到$A$的汉诺塔问题</strong></li>
</ul>
<p>同样令$T_n$表示$n$个盘,从$A, C$之间,不直接通过$A \rightarrow B$,$B \rightarrow A$的最小步数.<br />
我们可以得出<br />
\begin{equation*}<br />
\begin{split}<br />
T_0 &amp;= 0 \\<br />
T_1 &amp;= 2<br />
\end{split}<br />
\end{equation*}</p>
<p>为了方便,用$X \rightarrow Y_n$表示前$n$个盘从X柱子移动到Y柱子,$X \rightarrow Y^n$表示把第$n$个盘从$X$柱子移动到$Y$,当$n$个盘的时候,我们执行以下序列:<br />
\begin{equation*}<br />
\begin{split}<br />
	\begin{cases}<br />
		A \rightarrow C_{n-1} \\<br />
		C \rightarrow B_{n-1}<br />
	\end{cases}\\<br />
		A \rightarrow C^n \\<br />
	\begin{cases}<br />
		B \rightarrow C_{n-1} \\<br />
		C \rightarrow A_{n-1} \\<br />
	\end{cases}\\<br />
	 	C \rightarrow B^n  \\<br />
	\begin{cases}<br />
		A \rightarrow C_{n-1} \\<br />
		C \rightarrow B_{n-1}<br />
	\end{cases}<br />
\end{split}<br />
\end{equation*}</p>
<p>其中三个大括号括起来的部分正式$T_{n-1}$,所以该限制情况下:</p>
<p>$$ T_n = 3T_{n-1} + 2 \label{hnt2Tn} $$</p>
<p>展开得到:</p>
<p>$$ T_n = 3^n &#8211; 1 \label{hnt2TnEq} $$</p>
<p>其中对于$3$为底数的解释是,分辨将三个柱子$A,B,C$看做是三个状态,每个盘都唯一一个$A \rightarrow C$,之后的移动在递归式中的体现是都作为$n-1$整体中的一部分,所以每个盘经历了$A,B,C$三个状态($A \rightarrow C$ 需要通过 $A \rightarrow B, B \rightarrow C$,所以$n$个盘在这里是$3^n$, 对已没有限制的汉诺塔移动而言,所对应的为一个$A \rightarrow C$只经过$A,C$两个状态,所以是$2^n$(每一个盘在对应的状态$A,B,C$中,实际上隐含$n-1$盘作为整体在某一个柱子上).</p>
<ul>
	<li><strong>每个大小的盘有两片</strong></li>
</ul>
<p>这次将汉诺塔的每个盘大小的盘设为2片,$T_n$表示$n$种大小的盘移动的做小次数,用$X \rightarrow Y_n$表示将前$n$ <strong>种</strong> 盘从$X$移动到$Y$, $X \rightarrow Y^n$表示将第$n$ *个*盘移动从$X$移动到$Y$,执行如下序列<br />
\begin{equation*}<br />
\begin{split}<br />
T_0 &amp; = 0 \\<br />
T_1 &amp; = 2<br />
\end{split}<br />
\end{equation*}</p>
<p>当有$n$种盘的时候</p>
<p>\begin{equation*}<br />
\begin{split}<br />
&amp;A \rightarrow C_{n-1} \\<br />
&amp;A \rightarrow B^{2n-1}\\<br />
&amp;A \rightarrow B^{2n}  \\<br />
&amp;C \rightarrow B_{n-1}<br />
\end{split}<br />
\end{equation*}</p>
<p>根据对称性,将$n$种盘从任意一个柱子移动到另一个柱子的次数是相同的,所以上面的序列的此时为<br />
$$ T_n = 2T_{n-1} + 2 \label{hnt3Tn} $$</p>
<p>展开即<br />
$$ T_n = 2 \cdot 2^{n}  &#8211; 2 $$</p>
<p>我们用$n_i, i = 1,2$表示第$n$种盘的第$i$个盘,简单枚举可以发现<br />
\begin{matrix}<br />
\notag<br />
A &amp; \rightarrow &amp; B \\<br />
1_1 &amp; &amp; 1_1 \\ <br />
1_2 &amp; &amp; 1_2 \\ <br />
2_1 &amp; &amp; 2_2 \\ <br />
2_2 &amp; &amp; 2_1 \\<br />
\end{matrix}</p>
<p>最后两片盘的顺序会颠倒,而且我们很容易发现进行偶数次的移动,能够保证原有盘片的顺序,我们再次将这个不必保证顺序的最小移动次数记为$Q_n$,即<br />
$$Q_{n} = 2 \cdot 2^{n} &#8211; 2 \label{hntQnEq}$$</p>
<ul>
	<li>保证所有盘片顺序的最小移动次数</li>
</ul>
<p>令$T_n$表示$n$种盘片保证顺序的移动次数,当1个大小的盘的时候,使用$X \rightarrow Y^{n_i} i=1,2$表示$n_i$盘片的移动,$X \rightarrow^{nk} Y_{n}$表示前$n$种盘片的不保证顺序的移动,$X \rightarrow^k Y_{n}$表示前$n$种盘的保证顺序的移动.<br />
\begin{align*}<br />
T_0 &amp;= 0 \\<br />
T_1 &amp;= 3<br />
\end{align*}</p>
<p>为了保证顺序移动n种盘,有以下序列</p>
<p>\begin{align*}<br />
&amp; A \rightarrow^{nk} B_{n-1} \\<br />
&amp; A \rightarrow C^{n_1} \\<br />
&amp; B \rightarrow^{nk} C_{n-1} \\<br />
&amp; A \rightarrow B^{n_2} \\<br />
&amp; C \rightarrow^{nk} A_{n-1}\\<br />
&amp; C \rightarrow B^{n_1} \\<br />
&amp; A \rightarrow^{nk} B_{n-1}<br />
\end{align*}</p>
<p>其中由对称性可知$A \rightarrow^{nk} B_{n-1}$,$B \rightarrow^{nk} C_{n-1}$,$C \rightarrow^{nk} A_{n-1}$,$A \rightarrow^{nk} B_{n-1}$都是$Q_{n-1}$(式\ref{hntQnEq}),而且是偶数次的,可以保证原始顺序.这样就有</p>
<p>$$ T_n = 4Q_{n-1} + 3 $$</p>
<p>带入式(\ref{hntQnEq})就有</p>
<p>$$ T_n = 2^{n+2} &#8211; 5 $$</p>
</div>

<!-- JiaThis Button BEGIN -->
<div class="jiathis_style">
	<a class="jiathis_button_tsina"></a>
	<a class="jiathis_button_renren"></a>
	<a class="jiathis_button_douban"></a>
	<a class="jiathis_button_fb"></a>
	<a class="jiathis_button_twitter"></a>
	<a class="jiathis_button_googleplus"></a>
	<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	<a class="jiathis_counter_style"></a>
</div>
<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1377138298698457" charset="utf-8"></script>
<!-- JiaThis Button END -->

<!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
var duoshuoQuery = {short_name:"syhkiller"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = 'http://static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		|| document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
</script>
<!-- Duoshuo Comment END -->
<script type="text/javascript">
(function (){
 	var MaxCnt = 30;
	var i = 0;
	var timer = setInterval(function(){
			++i;
			if(i >= MaxCnt){ clearInterval(timer); return;}
			if(MathJax.Hub.Queue){
				if(document.getElementsByClassName('ds-powered-by').length){
					MathJax.Hub.Queue(["Typeset", MathJax.Hub, document.getElementById('ds-thread')]);
					clearInterval(timer);
					return;
				}
			}
		},1000);
 })();
</script>


      </div>
    </div>
    <div id="content_footer"></div>
    <div id="footer">
      <p>Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> on GitHub | Copyright &copy; 孙渊汇 | Thanks to <a href="http://www.cssmoban.com/">模板之家</a></p>
    </div>
  </div>
</body>
</html>

